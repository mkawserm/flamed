syntax = "proto3";
package pb;

message StateSnapshot {
  bytes uid = 1;
  bytes data = 2;
}

message StateEntry {
  bytes payload = 1;
  bytes namespace = 2;
  string familyName = 3;
  string familyVersion = 4;
}

message Transaction {
  bytes payload = 1;
  bytes namespace = 2;
  string familyName = 3;
  string familyVersion = 4;
}

message Proposal {
  bytes uuid = 1;
  bytes meta = 2;
  fixed64 createdAt = 4;
  repeated Transaction transactions = 5;
}

enum IndexFieldType {
  TEXT = 0;
  NUMERIC = 1;
  BOOLEAN = 2;
  GEO_POINT = 3;
  DATE_TIME = 4;
}

message IndexField {
  IndexFieldType indexFieldType = 1;
  string name = 2;
  string analyzer = 3;
  bool enabled = 4;
  bool index = 5;
  bool store = 6;
  bool includeTermVectors = 7;
  bool includeInAll = 8;
  bool docValues = 9;
}

message IndexDocument {
  string name = 1;
  bool default = 2;
  repeated IndexField indexFieldList = 3;
}

message IndexMeta {
  bytes namespace = 1;
  uint32 version = 2;
  bool enabled = 3;
  bool default = 4;
  uint64 createdAt = 5;
  uint64 updatedAt = 6;
  repeated IndexDocument indexDocumentList = 7;
}

message IndexMetaList {
  repeated IndexMeta indexMetaList = 1;
}